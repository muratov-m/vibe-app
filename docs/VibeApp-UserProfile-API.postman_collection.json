{
	"info": {
		"_postman_id": "vibe-app-userprofile-api",
		"name": "VibeApp - UserProfile API",
		"description": "API для управления профилями пользователей в VibeApp. Поддерживает пакетный импорт с синхронизацией БД и RAG поиск.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "RAG Search",
			"item": [
				{
					"name": "RAG Search (POST)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"query\": \"Who here knows Rust and likes hiking?\",\n  \"topK\": 5,\n  \"generateResponse\": true,\n  \"minSimilarity\": 0.3\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/ragsearch/search",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"ragsearch",
								"search"
							]
						},
						"description": "Поиск профилей пользователей с помощью RAG (Retrieval Augmented Generation).\n\n**Параметры:**\n- `query` - вопрос на естественном языке\n- `topK` - количество результатов (1-50, по умолчанию 5)\n- `generateResponse` - генерировать AI-ответ (по умолчанию true)\n- `minSimilarity` - минимальный порог схожести 0-1 (по умолчанию 0.3)\n\n**Примеры запросов:**\n- \"Who here knows Rust and likes hiking?\"\n- \"Find me someone who can help with machine learning\"\n- \"Looking for a co-founder with marketing experience\"\n- \"Кто разбирается в AI и работает со стартапами?\""
					},
					"response": []
				},
				{
					"name": "RAG Search (GET - Quick)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ragsearch/search?q=Who can help with machine learning?&top=5",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"ragsearch",
								"search"
							],
							"query": [
								{
									"key": "q",
									"value": "Who can help with machine learning?"
								},
								{
									"key": "top",
									"value": "5"
								}
							]
						},
						"description": "Быстрый поиск через GET запрос.\n\n**Параметры:**\n- `q` - поисковый запрос (обязательный)\n- `top` - количество результатов (по умолчанию 5)"
					},
					"response": []
				},
				{
					"name": "RAG Search - Find Co-founder",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"query\": \"Looking for a technical co-founder with backend experience\",\n  \"topK\": 10,\n  \"generateResponse\": true,\n  \"minSimilarity\": 0.25\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/ragsearch/search",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"ragsearch",
								"search"
							]
						},
						"description": "Пример поиска ко-фаундера с техническим бэкграундом."
					},
					"response": []
				},
				{
					"name": "RAG Search - Without AI Response",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"query\": \"Кто может помочь с тестированием и QA?\",\n  \"topK\": 5,\n  \"generateResponse\": false,\n  \"minSimilarity\": 0.3\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/ragsearch/search",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"ragsearch",
								"search"
							]
						},
						"description": "Поиск без генерации AI-ответа (только список профилей). Быстрее и дешевле."
					},
					"response": []
				}
			],
			"description": "RAG (Retrieval Augmented Generation) поиск по профилям пользователей.\n\nИспользует embeddings для семантического поиска и LLM для генерации ответа."
		},
		{
			"name": "Import User Profiles (Batch)",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "[\n  {\n    \"id\": 1,\n    \"name\": \"Elena Saf\",\n    \"telegram\": \"dmitry_dev\",\n    \"linkedin\": \"https://www.linkedin.com/in/esaf20\",\n    \"bio\": \"QA Lead with department management experience, transformation coaching\",\n    \"skills\": [\n      \"коучинг\",\n      \"Soft Skills менторинг\",\n      \"QA менторинг\",\n      \"тестирование\"\n    ],\n    \"hasStartup\": false,\n    \"startupStage\": \"\",\n    \"startupDescription\": \"\",\n    \"startupName\": \"\",\n    \"lookingFor\": [\n      \"Единомышленников\"\n    ],\n    \"canHelp\": \"- выявление и умение справляться с ограничениями, установками, страхами мешающих росту и движению к цели\\n- Как оппонент для брейнсторма идей или затыков\\n- QA и процессный менторинг\",\n    \"needsHelp\": \"Сейчас в поиске проектов для себя как QA Lead + AI для жизни как информирование + несомненно нетворкинг\",\n    \"aiUsage\": \"\",\n    \"email\": \"\",\n    \"photo\": \"\"\n  },\n  {\n    \"id\": 2,\n    \"name\": \"Иван Петров\",\n    \"telegram\": \"ivan_dev\",\n    \"linkedin\": \"https://www.linkedin.com/in/ivanpetrov\",\n    \"bio\": \"Senior Backend Developer с опытом работы с .NET и микросервисами\",\n    \"skills\": [\n      \"C#\",\n      \".NET Core\",\n      \"Микросервисы\",\n      \"PostgreSQL\",\n      \"Docker\"\n    ],\n    \"hasStartup\": true,\n    \"startupStage\": \"MVP\",\n    \"startupDescription\": \"Платформа для автоматизации бизнес-процессов\",\n    \"startupName\": \"AutoFlow\",\n    \"lookingFor\": [\n      \"Инвесторов\",\n      \"Co-founder\"\n    ],\n    \"canHelp\": \"Архитектура backend систем, оптимизация производительности, code review\",\n    \"needsHelp\": \"Поиск первых клиентов, маркетинг\",\n    \"aiUsage\": \"Использую ChatGPT для генерации документации и code review\",\n    \"email\": \"ivan@example.com\",\n    \"photo\": \"https://example.com/photos/ivan.jpg\"\n  }\n]"
				},
				"url": {
					"raw": "{{base_url}}/api/userprofile/import",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"userprofile",
						"import"
					]
				},
				"description": "Импортирует массив профилей пользователей и синхронизирует с БД.\n\n**ВАЖНО**: Удаляет пользователей, которых нет в импортируемом списке!\n\nВозвращает статистику: created, updated, deleted."
			},
			"response": []
		},
		{
			"name": "Get All User Profiles",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/userprofile",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"userprofile"
					]
				},
				"description": "Получает все профили пользователей со всеми связанными данными (skills, lookingFor)."
			},
			"response": []
		},
		{
			"name": "Get User Profile by ID",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/userprofile/1",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"userprofile",
						"1"
					]
				},
				"description": "Получает профиль пользователя по ID со всеми связанными данными."
			},
			"response": []
		},
		{
			"name": "Update User Profile",
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"id\": 1,\n  \"name\": \"Elena Saf (Updated)\",\n  \"telegram\": \"dmitry_dev\",\n  \"linkedin\": \"https://www.linkedin.com/in/esaf20\",\n  \"bio\": \"QA Lead with department management experience, transformation coaching - UPDATED\",\n  \"skills\": [\n    \"коучинг\",\n    \"Soft Skills менторинг\",\n    \"QA менторинг\",\n    \"тестирование\",\n    \"Agile\"\n  ],\n  \"hasStartup\": false,\n  \"startupStage\": \"\",\n  \"startupDescription\": \"\",\n  \"startupName\": \"\",\n  \"lookingFor\": [\n    \"Единомышленников\",\n    \"Проектов\"\n  ],\n  \"canHelp\": \"- выявление и умение справляться с ограничениями\\n- Коучинг и менторинг\\n- QA процессы\",\n  \"needsHelp\": \"Поиск проектов и нетворкинг\",\n  \"aiUsage\": \"Активно использую AI инструменты\",\n  \"email\": \"elena@example.com\",\n  \"photo\": \"https://example.com/photos/elena.jpg\"\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/userprofile/1",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"userprofile",
						"1"
					]
				},
				"description": "Обновляет существующий профиль пользователя. Заменяет все связанные данные (skills, lookingFor)."
			},
			"response": []
		},
		{
			"name": "Delete User Profile",
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/userprofile/1",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"userprofile",
						"1"
					]
				},
				"description": "Удаляет профиль пользователя и все связанные данные (cascade delete)."
			},
			"response": []
		},
		{
			"name": "Health Check",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/health",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"health"
					]
				},
				"description": "Проверка работоспособности API."
			},
			"response": []
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:5000",
			"type": "string"
		}
	]
}

